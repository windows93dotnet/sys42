{
  name: "ImageViewer",
  command: "viewer",
  categories: ["utilities", "entertainment"],

  decode: {
    types: [
      { description: "Image", accept: "image/*" }, //
    ],
  },

  content: [
    {
      tag: ".box-center.scroll-1.max-w-full.inset.checkboard",
      content: {
        tag: "img",
        style: {
          "object-fit": "{{cover ? 'cover' : 'contain'}}",
          "image-rendering": "{{pixelated ? 'pixelated' : 'auto'}}",
          "height": "{{fit || cover ? '100%' : 'auto'}}",
          "width": "{{fit || cover ? '100%' : 'auto'}}",
          "max-width": "none",
        },
        src: "{{$files/0/path}}",
        on: {
          load: "{{width = target.width; height = target.height}}",
        },
      },
    },
    {
      tag: "footer.d-flex.gap.mt-xs.pl-xs.inset-shallow",
      content: [
        { tag: "checkbox", bind: "fit" },
        { tag: "checkbox", bind: "cover" },
        { tag: "checkbox", bind: "pixelated" },
        {
          tag: ".solid.ml-auto",
          content: "{{width}}x{{height}}",
        },
      ],
    },
  ],

  state: {
    height: 0,
    width: 0,
    fit: false,
    pixelated: true,
    cover: true,
  },
}
