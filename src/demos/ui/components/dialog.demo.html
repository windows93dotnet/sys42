<!DOCTYPE html>
<meta charset="utf-8" />
<title>ui-dialog</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="/style.css" id="theme" />

<script type="module">
  import trap from "../../../42/fabric/type/error/trap.js"
  trap()
</script>

<script type="module">
  import ui from "../../../42/ui.js"

  await ui({
    tag: "body.desktop",
    content: [
      { tag: "button", content: "{{cnt}}++", click: "{{cnt++}}" },
      {
        tag: "button#dialog",
        content: "dialog",
        dialog: {
          label: "Live Dialog",
          animate: { translate: "0 -100%", opacity: 0 },
          content: [
            {
              tag: ".box-h.ctrl-group.w-ctrl",
              content: [
                {
                  tag: "number",
                  bind: "x",
                  compact: true,
                },
                {
                  tag: "number",
                  bind: "y",
                  compact: true,
                },
              ],
            },
            {
              tag: "number",
              bind: "cnt",
              compact: true,
            },
            {
              tag: "button",
              content: "{{cnt}}++",
              click: "{{cnt++}}",
            },
          ],
        },
      },
    ],
    state: {
      cnt: 42,
    },
  })

  document.querySelector("button#dialog")?.click()
</script>
